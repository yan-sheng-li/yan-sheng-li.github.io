(window.webpackJsonp=window.webpackJsonp||[]).push([[357],{748:function(t,e,s){"use strict";s.r(e);var a=s(1),r=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"vue2-与-vue3-混用问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue2-与-vue3-混用问题"}},[t._v("#")]),t._v(" Vue2 与 Vue3 混用问题")]),t._v(" "),e("h2",{attrs:{id:"_1-是否能混用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-是否能混用"}},[t._v("#")]),t._v(" 1. 是否能混用？")]),t._v(" "),e("ul",[e("li",[t._v("uni-app 创建项目时选择 "),e("strong",[t._v("Vue2 或 Vue3")]),t._v(" 会决定运行时，二者不能直接混用。")]),t._v(" "),e("li",[t._v("但 Vue3 兼容大部分 "),e("strong",[t._v("Vue2 的 Options API")]),t._v("，所以你可以继续用 Vue2 风格写法。")]),t._v(" "),e("li",[t._v("Vue2 独有的 API（如 "),e("code",[t._v("beforeDestroy")]),t._v("、"),e("code",[t._v("filters")]),t._v("、"),e("code",[t._v("$on")]),t._v(" 等）在 Vue3 中已被移除或替换。")])]),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"_2-vue2-与-vue3-常见对照表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-vue2-与-vue3-常见对照表"}},[t._v("#")]),t._v(" 2. Vue2 与 Vue3 常见对照表")]),t._v(" "),e("h3",{attrs:{id:"生命周期"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Vue2")]),t._v(" "),e("th",[t._v("Vue3")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("created")]),t._v(" "),e("td",[t._v("created（仍支持）/ setup")])]),t._v(" "),e("tr",[e("td",[t._v("beforeMount")]),t._v(" "),e("td",[t._v("beforeMount")])]),t._v(" "),e("tr",[e("td",[t._v("mounted")]),t._v(" "),e("td",[t._v("mounted")])]),t._v(" "),e("tr",[e("td",[t._v("beforeUpdate")]),t._v(" "),e("td",[t._v("beforeUpdate")])]),t._v(" "),e("tr",[e("td",[t._v("updated")]),t._v(" "),e("td",[t._v("updated")])]),t._v(" "),e("tr",[e("td",[t._v("beforeDestroy")]),t._v(" "),e("td",[t._v("❌ → beforeUnmount")])]),t._v(" "),e("tr",[e("td",[t._v("destroyed")]),t._v(" "),e("td",[t._v("❌ → unmounted")])])])]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"数据与逻辑"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据与逻辑"}},[t._v("#")]),t._v(" 数据与逻辑")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("功能")]),t._v(" "),e("th",[t._v("Vue2 写法")]),t._v(" "),e("th",[t._v("Vue3 写法")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("data")]),t._v(" "),e("td",[e("code",[t._v("data() { return { count: 0 } }")])]),t._v(" "),e("td",[e("code",[t._v("const count = ref(0)")])])]),t._v(" "),e("tr",[e("td",[t._v("computed")]),t._v(" "),e("td",[e("code",[t._v("computed: { double() { return this.count*2 } }")])]),t._v(" "),e("td",[e("code",[t._v("const double = computed(() => count.value*2)")])])]),t._v(" "),e("tr",[e("td",[t._v("watch")]),t._v(" "),e("td",[e("code",[t._v("watch: { count(v) { ... } }")])]),t._v(" "),e("td",[e("code",[t._v("watch(count, v => { ... })")])])]),t._v(" "),e("tr",[e("td",[t._v("methods")]),t._v(" "),e("td",[e("code",[t._v("methods: { add() { this.count++ } }")])]),t._v(" "),e("td",[e("code",[t._v("const add = () => { count.value++ }")])])])])]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"组件与选项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#组件与选项"}},[t._v("#")]),t._v(" 组件与选项")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("components")]),t._v(" ✅")]),t._v(" "),e("li",[e("code",[t._v("props")]),t._v(" ✅")]),t._v(" "),e("li",[e("code",[t._v("emits")]),t._v(" ✅")]),t._v(" "),e("li",[e("code",[t._v("provide / inject")]),t._v(" ✅")]),t._v(" "),e("li",[e("code",[t._v("mixins")]),t._v(" ✅")]),t._v(" "),e("li",[e("code",[t._v("extends")]),t._v(" ✅")]),t._v(" "),e("li",[e("code",[t._v("filters")]),t._v(" ❌ （已移除）")]),t._v(" "),e("li",[e("code",[t._v("inheritAttrs")]),t._v(" ✅")]),t._v(" "),e("li",[e("code",[t._v("directives")]),t._v(" ✅")])]),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"_3-vue3-中的-props-用法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-vue3-中的-props-用法"}},[t._v("#")]),t._v(" 3. Vue3 中的 "),e("code",[t._v("props")]),t._v(" 用法")]),t._v(" "),e("h3",{attrs:{id:"options-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#options-api"}},[t._v("#")]),t._v(" Options API")]),t._v(" "),e("div",{staticClass:"language-vue extra-class"},[e("pre",{pre:!0,attrs:{class:"language-vue"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token script"}},[e("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("props")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Number\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("h3",{attrs:{id:"composition-api-setup"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#composition-api-setup"}},[t._v("#")]),t._v(" Composition API ("),e("code",[t._v("setup")]),t._v(")")]),t._v(" "),e("div",{staticClass:"language-vue extra-class"},[e("pre",{pre:!0,attrs:{class:"language-vue"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("setup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token script"}},[e("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProps")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Number\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("hr"),t._v(" "),e("h2",{attrs:{id:"_4-小结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-小结"}},[t._v("#")]),t._v(" 4. 小结")]),t._v(" "),e("ul",[e("li",[t._v("Vue3 仍支持大部分 Vue2 的 Options API，迁移成本低。")]),t._v(" "),e("li",[t._v("生命周期有少量改名（"),e("code",[t._v("beforeDestroy → beforeUnmount")]),t._v("，"),e("code",[t._v("destroyed → unmounted")]),t._v("）。")]),t._v(" "),e("li",[t._v("部分 API 移除（"),e("code",[t._v("filters")]),t._v("、"),e("code",[t._v("$on")]),t._v(" 等）。")]),t._v(" "),e("li",[t._v("Vue3 推荐 "),e("strong",[t._v("Composition API")]),t._v("（"),e("code",[t._v("setup")]),t._v(" + "),e("code",[t._v("ref")]),t._v(" + "),e("code",[t._v("reactive")]),t._v(" 等），更灵活。")]),t._v(" "),e("li",[t._v("在 uni-app 中，Vue2 的页面生命周期（如 "),e("code",[t._v("onLoad")]),t._v("、"),e("code",[t._v("onShow")]),t._v("）仍然保留，Vue2/3 都能用。")])])])}),[],!1,null,null,null);e.default=r.exports}}]);