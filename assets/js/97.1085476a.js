(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{486:function(v,t,_){"use strict";_.r(t);var r=_(1),a=Object(r.a)({},(function(){var v=this,t=v._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h1",{attrs:{id:"crontab定时任务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#crontab定时任务"}},[v._v("#")]),v._v(" Crontab定时任务")]),v._v(" "),t("p",[v._v("以下是 crontab 的一些常用命令：")]),v._v(" "),t("h3",{attrs:{id:"任务编辑"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#任务编辑"}},[v._v("#")]),v._v(" 任务编辑")]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("crontab -e")]),v._v("：编辑当前用户的 crontab 任务列表，打开默认的编辑器（一般是 vi 或 nano），可以在其中添加、修改或删除定时任务。")]),v._v(" "),t("li",[t("strong",[v._v("crontab -u <用户名> -e")]),v._v("：编辑指定用户的 crontab 任务列表，需要有相应的权限。")])]),v._v(" "),t("h3",{attrs:{id:"任务查看"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#任务查看"}},[v._v("#")]),v._v(" 任务查看")]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("crontab -l")]),v._v("：列出当前用户的所有定时任务。")]),v._v(" "),t("li",[t("strong",[v._v("crontab -u <用户名> -l")]),v._v("：列出指定用户的所有定时任务。")])]),v._v(" "),t("h3",{attrs:{id:"任务删除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#任务删除"}},[v._v("#")]),v._v(" 任务删除")]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("crontab -r")]),v._v("：删除当前用户的所有定时任务，删除前需谨慎确认，因为此操作不可恢复。")]),v._v(" "),t("li",[t("strong",[v._v("crontab -u <用户名> -r")]),v._v("：删除指定用户的所有定时任务。")]),v._v(" "),t("li",[t("strong",[v._v("crontab -ir")]),v._v("：在删除当前用户的所有定时任务之前，会先进行交互询问确认。")])]),v._v(" "),t("h3",{attrs:{id:"服务管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务管理"}},[v._v("#")]),v._v(" 服务管理")]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("/sbin/service crond start")]),v._v("：启动 crond 服务，该服务负责定期检查并执行定时任务。")]),v._v(" "),t("li",[t("strong",[v._v("/sbin/service crond stop")]),v._v("：停止 crond 服务。")]),v._v(" "),t("li",[t("strong",[v._v("/sbin/service crond restart")]),v._v("：重启 crond 服务。")]),v._v(" "),t("li",[t("strong",[v._v("/sbin/service crond reload")]),v._v("：重新载入 crond 服务的配置文件，使配置生效，无需重启服务。")])]),v._v(" "),t("h3",{attrs:{id:"从文件加载任务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#从文件加载任务"}},[v._v("#")]),v._v(" 从文件加载任务")]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("crontab <文件名>")]),v._v("：将指定文件中的内容加载为当前用户的 crontab 任务，文件中的每一行应符合 crontab 的任务格式。")])]),v._v(" "),t("h3",{attrs:{id:"添加-selinux-属性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加-selinux-属性"}},[v._v("#")]),v._v(" 添加 SELinux 属性")]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("crontab -s <文件名>")]),v._v("：在从文件中加载 crontab 任务时，添加包含当前 SELinux 安全上下文的变量，若不使用 SELinux 则无需关注此命令。")])]),v._v(" "),t("p",[v._v("在 crontab 中，时间格式由五个字段组成，从左到右依次是：分、时、日、月、周。每个字段的取值范围和含义如下：")]),v._v(" "),t("h3",{attrs:{id:"分钟-0-59"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分钟-0-59"}},[v._v("#")]),v._v(" 分钟（0 - 59）")]),v._v(" "),t("ul",[t("li",[v._v("可以是一个固定的数字，比如"),t("code",[v._v("30")]),v._v("，代表 30 分钟的时候执行。")]),v._v(" "),t("li",[v._v("也可以是一个范围，如"),t("code",[v._v("10-20")]),v._v("，代表从 10 分钟到 20 分钟之间每分钟都执行。")]),v._v(" "),t("li",[v._v("还可以是间隔时间，像"),t("code",[v._v("*/5")]),v._v("，表示每隔 5 分钟执行一次。")])]),v._v(" "),t("h3",{attrs:{id:"小时-0-23"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#小时-0-23"}},[v._v("#")]),v._v(" 小时（0 - 23）")]),v._v(" "),t("ul",[t("li",[v._v("例如，"),t("code",[v._v("12")]),v._v("表示 12 点执行；"),t("code",[v._v("8-10")]),v._v("表示 8 点、9 点、10 点都执行；"),t("code",[v._v("*/2")]),v._v("表示每隔 2 个小时执行一次。")])]),v._v(" "),t("h3",{attrs:{id:"日期-1-31"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#日期-1-31"}},[v._v("#")]),v._v(" 日期（1 - 31）")]),v._v(" "),t("ul",[t("li",[v._v("如"),t("code",[v._v("15")]),v._v("代表 15 号执行；"),t("code",[v._v("1-5")]),v._v("表示 1 号到 5 号每天都执行；"),t("code",[v._v("*/3")]),v._v("意思是每隔 3 天执行一次。")])]),v._v(" "),t("h3",{attrs:{id:"月份-1-12"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#月份-1-12"}},[v._v("#")]),v._v(" 月份（1 - 12）")]),v._v(" "),t("ul",[t("li",[v._v("例如，"),t("code",[v._v("6")]),v._v("表示 6 月份执行；"),t("code",[v._v("3-6")]),v._v("表示 3、4、5、6 月执行；"),t("code",[v._v("*/2")]),v._v("即每隔 2 个月执行一次。")])]),v._v(" "),t("h3",{attrs:{id:"星期-0-6-0-代表周日-1-6-代表周一到周六"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#星期-0-6-0-代表周日-1-6-代表周一到周六"}},[v._v("#")]),v._v(" 星期（0 - 6，0 代表周日，1 - 6 代表周一到周六）")]),v._v(" "),t("ul",[t("li",[v._v("比如，"),t("code",[v._v("0")]),v._v("表示周日执行；"),t("code",[v._v("1,3,5")]),v._v("代表周一、周三、周五执行；"),t("code",[v._v("*/2")]),v._v("是每隔 2 天（按星期算）执行一次。")])]),v._v(" "),t("p",[v._v("这些字段间用空格分隔，例如"),t("code",[v._v("30 12 * * *")]),v._v("代表每天 12 点 30 分执行任务。")])])}),[],!1,null,null,null);t.default=a.exports}}]);