<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Swing自定义组件 | 木子空间</title>
    <meta name="generator" content="VuePress 1.9.10">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-VTCF7WPSRK"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-VTCF7WPSRK');
      </script>
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="各类项目汇总,涵盖JavaGUI,servlet+jsp,SSM,SpringBoot+Vue,Python,微信小程序...">
    <meta name="keywords" content="编程知识, 项目案例, 技术文档,难点解析">
    <meta name="baidu-site-verification" content="codeva-ZjLnH1tXq1">
    
    <link rel="preload" href="/assets/css/0.styles.340d46bc.css" as="style"><link rel="preload" href="/assets/js/app.e9d65d00.js" as="script"><link rel="preload" href="/assets/js/2.5310dc29.js" as="script"><link rel="preload" href="/assets/js/1.43371dd6.js" as="script"><link rel="preload" href="/assets/js/342.bf59ed14.js" as="script"><link rel="prefetch" href="/assets/js/10.b5836b86.js"><link rel="prefetch" href="/assets/js/100.d056b817.js"><link rel="prefetch" href="/assets/js/101.5646ce00.js"><link rel="prefetch" href="/assets/js/102.737a4bfd.js"><link rel="prefetch" href="/assets/js/103.6b58a691.js"><link rel="prefetch" href="/assets/js/104.a361a0fe.js"><link rel="prefetch" href="/assets/js/105.84aef1b7.js"><link rel="prefetch" href="/assets/js/106.4bbd543b.js"><link rel="prefetch" href="/assets/js/107.6474bd16.js"><link rel="prefetch" href="/assets/js/108.dcfc6c79.js"><link rel="prefetch" href="/assets/js/109.d5bbebdb.js"><link rel="prefetch" href="/assets/js/11.52115aa8.js"><link rel="prefetch" href="/assets/js/110.c80faad3.js"><link rel="prefetch" href="/assets/js/111.ad5b1407.js"><link rel="prefetch" href="/assets/js/112.dc581c19.js"><link rel="prefetch" href="/assets/js/113.fa95d870.js"><link rel="prefetch" href="/assets/js/114.8aea7783.js"><link rel="prefetch" href="/assets/js/115.d3aff7b6.js"><link rel="prefetch" href="/assets/js/116.5c6f3d77.js"><link rel="prefetch" href="/assets/js/117.6240cf9c.js"><link rel="prefetch" href="/assets/js/118.3025195d.js"><link rel="prefetch" href="/assets/js/119.3c099d12.js"><link rel="prefetch" href="/assets/js/12.5bf700e7.js"><link rel="prefetch" href="/assets/js/120.b0aaefb7.js"><link rel="prefetch" href="/assets/js/121.f81341d5.js"><link rel="prefetch" href="/assets/js/122.e02b439b.js"><link rel="prefetch" href="/assets/js/123.d05a55f2.js"><link rel="prefetch" href="/assets/js/124.eced0c47.js"><link rel="prefetch" href="/assets/js/125.29b7dc94.js"><link rel="prefetch" href="/assets/js/126.1c8a7d75.js"><link rel="prefetch" href="/assets/js/127.0ea198b6.js"><link rel="prefetch" href="/assets/js/128.b63b3935.js"><link rel="prefetch" href="/assets/js/129.88ab0e79.js"><link rel="prefetch" href="/assets/js/13.13a2614b.js"><link rel="prefetch" href="/assets/js/130.5998858f.js"><link rel="prefetch" href="/assets/js/131.e3473915.js"><link rel="prefetch" href="/assets/js/132.2bd5af9e.js"><link rel="prefetch" href="/assets/js/133.bfa70675.js"><link rel="prefetch" href="/assets/js/134.ae23b1f7.js"><link rel="prefetch" href="/assets/js/135.3868ea10.js"><link rel="prefetch" href="/assets/js/136.53cd8699.js"><link rel="prefetch" href="/assets/js/137.b2a0dbc7.js"><link rel="prefetch" href="/assets/js/138.836942f2.js"><link rel="prefetch" href="/assets/js/139.5303ff6b.js"><link rel="prefetch" href="/assets/js/14.ba537933.js"><link rel="prefetch" href="/assets/js/140.56d77cba.js"><link rel="prefetch" href="/assets/js/141.e0b2d083.js"><link rel="prefetch" href="/assets/js/142.d0d488c9.js"><link rel="prefetch" href="/assets/js/143.66dbea7c.js"><link rel="prefetch" href="/assets/js/144.3fb78a45.js"><link rel="prefetch" href="/assets/js/145.17b5b066.js"><link rel="prefetch" href="/assets/js/146.65fa3147.js"><link rel="prefetch" href="/assets/js/147.32830703.js"><link rel="prefetch" href="/assets/js/148.1335397b.js"><link rel="prefetch" href="/assets/js/149.bcf7140d.js"><link rel="prefetch" href="/assets/js/15.098c3bd6.js"><link rel="prefetch" href="/assets/js/150.f8dd0bd2.js"><link rel="prefetch" href="/assets/js/151.5f644816.js"><link rel="prefetch" href="/assets/js/152.ee2499fb.js"><link rel="prefetch" href="/assets/js/153.073cd88b.js"><link rel="prefetch" href="/assets/js/154.7b0834a1.js"><link rel="prefetch" href="/assets/js/155.f53bc030.js"><link rel="prefetch" href="/assets/js/156.3e7585e8.js"><link rel="prefetch" href="/assets/js/157.6b6187b4.js"><link rel="prefetch" href="/assets/js/158.0f0ad10e.js"><link rel="prefetch" href="/assets/js/159.8934f09a.js"><link rel="prefetch" href="/assets/js/16.c6d0c3b2.js"><link rel="prefetch" href="/assets/js/160.27f9e27d.js"><link rel="prefetch" href="/assets/js/161.8c523ea1.js"><link rel="prefetch" href="/assets/js/162.d5ae3029.js"><link rel="prefetch" href="/assets/js/163.8583a6ac.js"><link rel="prefetch" href="/assets/js/164.9e65728a.js"><link rel="prefetch" href="/assets/js/165.fcc9b2a3.js"><link rel="prefetch" href="/assets/js/166.f9abf2f8.js"><link rel="prefetch" href="/assets/js/167.ed0b7fd7.js"><link rel="prefetch" href="/assets/js/168.8578c212.js"><link rel="prefetch" href="/assets/js/169.f9dd4fc5.js"><link rel="prefetch" href="/assets/js/17.a67ed71d.js"><link rel="prefetch" href="/assets/js/170.32255cbe.js"><link rel="prefetch" href="/assets/js/171.06cf5522.js"><link rel="prefetch" href="/assets/js/172.3749654b.js"><link rel="prefetch" href="/assets/js/173.4ea04ee5.js"><link rel="prefetch" href="/assets/js/174.da9029c6.js"><link rel="prefetch" href="/assets/js/175.d0055096.js"><link rel="prefetch" href="/assets/js/176.33588f5d.js"><link rel="prefetch" href="/assets/js/177.21bc9aa6.js"><link rel="prefetch" href="/assets/js/178.455627e7.js"><link rel="prefetch" href="/assets/js/179.6b114dcd.js"><link rel="prefetch" href="/assets/js/18.9f101caa.js"><link rel="prefetch" href="/assets/js/180.3d9e6d46.js"><link rel="prefetch" href="/assets/js/181.934d6f56.js"><link rel="prefetch" href="/assets/js/182.965123f1.js"><link rel="prefetch" href="/assets/js/183.86fb3aa4.js"><link rel="prefetch" href="/assets/js/184.5ad747be.js"><link rel="prefetch" href="/assets/js/185.2f8cca64.js"><link rel="prefetch" href="/assets/js/186.cb8f565a.js"><link rel="prefetch" href="/assets/js/187.3d319a81.js"><link rel="prefetch" href="/assets/js/188.d11cc323.js"><link rel="prefetch" href="/assets/js/189.3a0f298f.js"><link rel="prefetch" href="/assets/js/19.19ebba17.js"><link rel="prefetch" href="/assets/js/190.48317454.js"><link rel="prefetch" href="/assets/js/191.8eff5ae8.js"><link rel="prefetch" href="/assets/js/192.104bf567.js"><link rel="prefetch" href="/assets/js/193.b95f7c75.js"><link rel="prefetch" href="/assets/js/194.c0217232.js"><link rel="prefetch" href="/assets/js/195.50955fa2.js"><link rel="prefetch" href="/assets/js/196.54c05cd0.js"><link rel="prefetch" href="/assets/js/197.4bbdb23c.js"><link rel="prefetch" href="/assets/js/198.99325464.js"><link rel="prefetch" href="/assets/js/199.ae66c535.js"><link rel="prefetch" href="/assets/js/20.58f72737.js"><link rel="prefetch" href="/assets/js/200.1c513674.js"><link rel="prefetch" href="/assets/js/201.e0010d91.js"><link rel="prefetch" href="/assets/js/202.4c21e0d1.js"><link rel="prefetch" href="/assets/js/203.11961a4c.js"><link rel="prefetch" href="/assets/js/204.178b9b95.js"><link rel="prefetch" href="/assets/js/205.a61a7b67.js"><link rel="prefetch" href="/assets/js/206.9c489d16.js"><link rel="prefetch" href="/assets/js/207.75efc6de.js"><link rel="prefetch" href="/assets/js/208.ede9026d.js"><link rel="prefetch" href="/assets/js/209.8b28f9b0.js"><link rel="prefetch" href="/assets/js/21.40225d4f.js"><link rel="prefetch" href="/assets/js/210.294b89f8.js"><link rel="prefetch" href="/assets/js/211.700fdfce.js"><link rel="prefetch" href="/assets/js/212.6265ff8a.js"><link rel="prefetch" href="/assets/js/213.3c14e3de.js"><link rel="prefetch" href="/assets/js/214.ac321180.js"><link rel="prefetch" href="/assets/js/215.aa6223e3.js"><link rel="prefetch" href="/assets/js/216.dc313722.js"><link rel="prefetch" href="/assets/js/217.7e6827f2.js"><link rel="prefetch" href="/assets/js/218.45a99ee1.js"><link rel="prefetch" href="/assets/js/219.234d7970.js"><link rel="prefetch" href="/assets/js/22.ff9d2b03.js"><link rel="prefetch" href="/assets/js/220.c81db8da.js"><link rel="prefetch" href="/assets/js/221.787f79c9.js"><link rel="prefetch" href="/assets/js/222.043c9854.js"><link rel="prefetch" href="/assets/js/223.42bb5beb.js"><link rel="prefetch" href="/assets/js/224.8b5e2a76.js"><link rel="prefetch" href="/assets/js/225.d8f3f000.js"><link rel="prefetch" href="/assets/js/226.fc25be29.js"><link rel="prefetch" href="/assets/js/227.90cc1105.js"><link rel="prefetch" href="/assets/js/228.6419ef81.js"><link rel="prefetch" href="/assets/js/229.f6735c8d.js"><link rel="prefetch" href="/assets/js/23.863b3e3d.js"><link rel="prefetch" href="/assets/js/230.2f4f9674.js"><link rel="prefetch" href="/assets/js/231.e5800fd3.js"><link rel="prefetch" href="/assets/js/232.f61e9e66.js"><link rel="prefetch" href="/assets/js/233.7db3ebd5.js"><link rel="prefetch" href="/assets/js/234.75edc2a9.js"><link rel="prefetch" href="/assets/js/235.3682d70b.js"><link rel="prefetch" href="/assets/js/236.837f3227.js"><link rel="prefetch" href="/assets/js/237.5c12e8ed.js"><link rel="prefetch" href="/assets/js/238.c4841374.js"><link rel="prefetch" href="/assets/js/239.d6742292.js"><link rel="prefetch" href="/assets/js/24.9fb61895.js"><link rel="prefetch" href="/assets/js/240.f6b527db.js"><link rel="prefetch" href="/assets/js/241.79dbffe8.js"><link rel="prefetch" href="/assets/js/242.6ca64ff7.js"><link rel="prefetch" href="/assets/js/243.be1cc7ab.js"><link rel="prefetch" href="/assets/js/244.8fe879af.js"><link rel="prefetch" href="/assets/js/245.8a178271.js"><link rel="prefetch" href="/assets/js/246.bceb540f.js"><link rel="prefetch" href="/assets/js/247.4832b92b.js"><link rel="prefetch" href="/assets/js/248.c87e3c40.js"><link rel="prefetch" href="/assets/js/249.b0736ab8.js"><link rel="prefetch" href="/assets/js/25.5930af9a.js"><link rel="prefetch" href="/assets/js/250.c65953c3.js"><link rel="prefetch" href="/assets/js/251.b2d68311.js"><link rel="prefetch" href="/assets/js/252.f1026570.js"><link rel="prefetch" href="/assets/js/253.8f04b68d.js"><link rel="prefetch" href="/assets/js/254.ba90de1d.js"><link rel="prefetch" href="/assets/js/255.91ecee47.js"><link rel="prefetch" href="/assets/js/256.c9b09fb9.js"><link rel="prefetch" href="/assets/js/257.1500eb20.js"><link rel="prefetch" href="/assets/js/258.eedae73c.js"><link rel="prefetch" href="/assets/js/259.20f87f96.js"><link rel="prefetch" href="/assets/js/26.000aa357.js"><link rel="prefetch" href="/assets/js/260.f976c752.js"><link rel="prefetch" href="/assets/js/261.5580735e.js"><link rel="prefetch" href="/assets/js/262.20cce725.js"><link rel="prefetch" href="/assets/js/263.c725b327.js"><link rel="prefetch" href="/assets/js/264.ce0b995a.js"><link rel="prefetch" href="/assets/js/265.272ab075.js"><link rel="prefetch" href="/assets/js/266.69f7b1b1.js"><link rel="prefetch" href="/assets/js/267.94458864.js"><link rel="prefetch" href="/assets/js/268.8001098c.js"><link rel="prefetch" href="/assets/js/269.2cbb1ad2.js"><link rel="prefetch" href="/assets/js/27.52134da7.js"><link rel="prefetch" href="/assets/js/270.6e112455.js"><link rel="prefetch" href="/assets/js/271.2f1321bc.js"><link rel="prefetch" href="/assets/js/272.70474558.js"><link rel="prefetch" href="/assets/js/273.127490ff.js"><link rel="prefetch" href="/assets/js/274.f20dda2c.js"><link rel="prefetch" href="/assets/js/275.5c28e9f3.js"><link rel="prefetch" href="/assets/js/276.a33ab086.js"><link rel="prefetch" href="/assets/js/277.c17c289d.js"><link rel="prefetch" href="/assets/js/278.404997bc.js"><link rel="prefetch" href="/assets/js/279.2c105aef.js"><link rel="prefetch" href="/assets/js/28.f7556124.js"><link rel="prefetch" href="/assets/js/280.0e84cb4e.js"><link rel="prefetch" href="/assets/js/281.afa550fc.js"><link rel="prefetch" href="/assets/js/282.52fb2b2a.js"><link rel="prefetch" href="/assets/js/283.985720d4.js"><link rel="prefetch" href="/assets/js/284.7e3c15b2.js"><link rel="prefetch" href="/assets/js/285.ae599927.js"><link rel="prefetch" href="/assets/js/286.780142da.js"><link rel="prefetch" href="/assets/js/287.d10b281b.js"><link rel="prefetch" href="/assets/js/288.f7313e2b.js"><link rel="prefetch" href="/assets/js/289.bc291f04.js"><link rel="prefetch" href="/assets/js/29.547cd429.js"><link rel="prefetch" href="/assets/js/290.509774f4.js"><link rel="prefetch" href="/assets/js/291.cc915fcc.js"><link rel="prefetch" href="/assets/js/292.4b8b4496.js"><link rel="prefetch" href="/assets/js/293.81e4017b.js"><link rel="prefetch" href="/assets/js/294.552f39a7.js"><link rel="prefetch" href="/assets/js/295.1fd118be.js"><link rel="prefetch" href="/assets/js/296.2de8dda7.js"><link rel="prefetch" href="/assets/js/297.44f10fda.js"><link rel="prefetch" href="/assets/js/298.af022ea8.js"><link rel="prefetch" href="/assets/js/299.f74a2d3b.js"><link rel="prefetch" href="/assets/js/3.ce764c84.js"><link rel="prefetch" href="/assets/js/30.a01ad3f0.js"><link rel="prefetch" href="/assets/js/300.c35615b8.js"><link rel="prefetch" href="/assets/js/301.ccd67210.js"><link rel="prefetch" href="/assets/js/302.8d6310ca.js"><link rel="prefetch" href="/assets/js/303.e939a5c5.js"><link rel="prefetch" href="/assets/js/304.cbe7d9cd.js"><link rel="prefetch" href="/assets/js/305.e489c75b.js"><link rel="prefetch" href="/assets/js/306.7ac2db9d.js"><link rel="prefetch" href="/assets/js/307.ef983393.js"><link rel="prefetch" href="/assets/js/308.98c64d2a.js"><link rel="prefetch" href="/assets/js/309.88c6fec7.js"><link rel="prefetch" href="/assets/js/31.21344077.js"><link rel="prefetch" href="/assets/js/310.d5e36582.js"><link rel="prefetch" href="/assets/js/311.caac517f.js"><link rel="prefetch" href="/assets/js/312.d9867384.js"><link rel="prefetch" href="/assets/js/313.b639d3be.js"><link rel="prefetch" href="/assets/js/314.b2f2f492.js"><link rel="prefetch" href="/assets/js/315.dfc67b7e.js"><link rel="prefetch" href="/assets/js/316.267ad713.js"><link rel="prefetch" href="/assets/js/317.0a4d49c9.js"><link rel="prefetch" href="/assets/js/318.9b7cf0de.js"><link rel="prefetch" href="/assets/js/319.d417b1ee.js"><link rel="prefetch" href="/assets/js/32.557e94be.js"><link rel="prefetch" href="/assets/js/320.96e47366.js"><link rel="prefetch" href="/assets/js/321.10699428.js"><link rel="prefetch" href="/assets/js/322.7a0eb887.js"><link rel="prefetch" href="/assets/js/323.52bf9af2.js"><link rel="prefetch" href="/assets/js/324.330985fb.js"><link rel="prefetch" href="/assets/js/325.06bc1779.js"><link rel="prefetch" href="/assets/js/326.8ba82e29.js"><link rel="prefetch" href="/assets/js/327.34bf3431.js"><link rel="prefetch" href="/assets/js/328.a180b42a.js"><link rel="prefetch" href="/assets/js/329.c60864ed.js"><link rel="prefetch" href="/assets/js/33.4e50c03f.js"><link rel="prefetch" href="/assets/js/330.0befeed0.js"><link rel="prefetch" href="/assets/js/331.c7724158.js"><link rel="prefetch" href="/assets/js/332.da3ffb21.js"><link rel="prefetch" href="/assets/js/333.9fe9d715.js"><link rel="prefetch" href="/assets/js/334.5d9bd089.js"><link rel="prefetch" href="/assets/js/335.58b96d48.js"><link rel="prefetch" href="/assets/js/336.cd5b29a2.js"><link rel="prefetch" href="/assets/js/337.8a28f0b0.js"><link rel="prefetch" href="/assets/js/338.3beec24d.js"><link rel="prefetch" href="/assets/js/339.09905a27.js"><link rel="prefetch" href="/assets/js/34.aa0fdd46.js"><link rel="prefetch" href="/assets/js/340.c42757f5.js"><link rel="prefetch" href="/assets/js/341.bdd033f5.js"><link rel="prefetch" href="/assets/js/343.e104b3b6.js"><link rel="prefetch" href="/assets/js/344.b334a672.js"><link rel="prefetch" href="/assets/js/345.ee62a39b.js"><link rel="prefetch" href="/assets/js/346.89afb76c.js"><link rel="prefetch" href="/assets/js/347.56d93506.js"><link rel="prefetch" href="/assets/js/348.b4b8f46d.js"><link rel="prefetch" href="/assets/js/349.38a1bc37.js"><link rel="prefetch" href="/assets/js/35.22f1ddf9.js"><link rel="prefetch" href="/assets/js/350.e9b9d750.js"><link rel="prefetch" href="/assets/js/351.3526fa47.js"><link rel="prefetch" href="/assets/js/352.382809b4.js"><link rel="prefetch" href="/assets/js/353.0cc0f953.js"><link rel="prefetch" href="/assets/js/354.a501cf3f.js"><link rel="prefetch" href="/assets/js/355.6a734d9a.js"><link rel="prefetch" href="/assets/js/356.b5ac2b0e.js"><link rel="prefetch" href="/assets/js/357.035a4ff1.js"><link rel="prefetch" href="/assets/js/358.1d5db562.js"><link rel="prefetch" href="/assets/js/359.c761c9ad.js"><link rel="prefetch" href="/assets/js/36.2b03eccd.js"><link rel="prefetch" href="/assets/js/360.cbf0c206.js"><link rel="prefetch" href="/assets/js/361.fb81590b.js"><link rel="prefetch" href="/assets/js/362.48b4f931.js"><link rel="prefetch" href="/assets/js/363.9b2c4b56.js"><link rel="prefetch" href="/assets/js/364.877778fb.js"><link rel="prefetch" href="/assets/js/365.01b47b5a.js"><link rel="prefetch" href="/assets/js/366.8cd3bf05.js"><link rel="prefetch" href="/assets/js/367.7041601e.js"><link rel="prefetch" href="/assets/js/368.055025c5.js"><link rel="prefetch" href="/assets/js/369.0439b538.js"><link rel="prefetch" href="/assets/js/37.d613f8de.js"><link rel="prefetch" href="/assets/js/370.5f6f3180.js"><link rel="prefetch" href="/assets/js/371.bc49aa9f.js"><link rel="prefetch" href="/assets/js/372.d14e9aa0.js"><link rel="prefetch" href="/assets/js/373.8ee82ed3.js"><link rel="prefetch" href="/assets/js/374.7c8d1b90.js"><link rel="prefetch" href="/assets/js/375.c91c83fc.js"><link rel="prefetch" href="/assets/js/376.745e2046.js"><link rel="prefetch" href="/assets/js/377.e854739e.js"><link rel="prefetch" href="/assets/js/378.c926dccc.js"><link rel="prefetch" href="/assets/js/379.505e236e.js"><link rel="prefetch" href="/assets/js/38.1874e54c.js"><link rel="prefetch" href="/assets/js/380.7d404117.js"><link rel="prefetch" href="/assets/js/381.d4dd0c64.js"><link rel="prefetch" href="/assets/js/382.dfdca078.js"><link rel="prefetch" href="/assets/js/383.3fa639dd.js"><link rel="prefetch" href="/assets/js/384.14e39b63.js"><link rel="prefetch" href="/assets/js/385.36becbbe.js"><link rel="prefetch" href="/assets/js/386.d7edf265.js"><link rel="prefetch" href="/assets/js/387.67cd5639.js"><link rel="prefetch" href="/assets/js/39.7ebdb831.js"><link rel="prefetch" href="/assets/js/4.1280ca21.js"><link rel="prefetch" href="/assets/js/40.9f6774b9.js"><link rel="prefetch" href="/assets/js/41.4e9a2a08.js"><link rel="prefetch" href="/assets/js/42.8cba903d.js"><link rel="prefetch" href="/assets/js/43.739d3ef9.js"><link rel="prefetch" href="/assets/js/44.9f972c82.js"><link rel="prefetch" href="/assets/js/45.8a410e17.js"><link rel="prefetch" href="/assets/js/46.4e42aefc.js"><link rel="prefetch" href="/assets/js/47.34617fa4.js"><link rel="prefetch" href="/assets/js/48.d1730585.js"><link rel="prefetch" href="/assets/js/49.34964608.js"><link rel="prefetch" href="/assets/js/5.93a3375f.js"><link rel="prefetch" href="/assets/js/50.36fa946c.js"><link rel="prefetch" href="/assets/js/51.fa7fa979.js"><link rel="prefetch" href="/assets/js/52.72209532.js"><link rel="prefetch" href="/assets/js/53.f0ff7adb.js"><link rel="prefetch" href="/assets/js/54.9dcc1fec.js"><link rel="prefetch" href="/assets/js/55.bc85f0c1.js"><link rel="prefetch" href="/assets/js/56.58f855bc.js"><link rel="prefetch" href="/assets/js/57.604b9de1.js"><link rel="prefetch" href="/assets/js/58.2d148af7.js"><link rel="prefetch" href="/assets/js/59.2d8475a2.js"><link rel="prefetch" href="/assets/js/6.18c7be23.js"><link rel="prefetch" href="/assets/js/60.449703e3.js"><link rel="prefetch" href="/assets/js/61.c2a0bd0b.js"><link rel="prefetch" href="/assets/js/62.ac54c4cc.js"><link rel="prefetch" href="/assets/js/63.d00af61d.js"><link rel="prefetch" href="/assets/js/64.262c89d6.js"><link rel="prefetch" href="/assets/js/65.9f795016.js"><link rel="prefetch" href="/assets/js/66.cfca01f1.js"><link rel="prefetch" href="/assets/js/67.5ef0f1a5.js"><link rel="prefetch" href="/assets/js/68.9e3c2c1d.js"><link rel="prefetch" href="/assets/js/69.ed860b3f.js"><link rel="prefetch" href="/assets/js/7.88d4bc9a.js"><link rel="prefetch" href="/assets/js/70.d26efc08.js"><link rel="prefetch" href="/assets/js/71.febd686f.js"><link rel="prefetch" href="/assets/js/72.ddbc1e3c.js"><link rel="prefetch" href="/assets/js/73.66163565.js"><link rel="prefetch" href="/assets/js/74.c7108a82.js"><link rel="prefetch" href="/assets/js/75.ea0a7bf4.js"><link rel="prefetch" href="/assets/js/76.9ee41219.js"><link rel="prefetch" href="/assets/js/77.03c2cd4a.js"><link rel="prefetch" href="/assets/js/78.62461746.js"><link rel="prefetch" href="/assets/js/79.0734c256.js"><link rel="prefetch" href="/assets/js/80.7e8af6ec.js"><link rel="prefetch" href="/assets/js/81.71763b99.js"><link rel="prefetch" href="/assets/js/82.e80e4d13.js"><link rel="prefetch" href="/assets/js/83.b659001f.js"><link rel="prefetch" href="/assets/js/84.2c9db46a.js"><link rel="prefetch" href="/assets/js/85.6e6370da.js"><link rel="prefetch" href="/assets/js/86.850be8d4.js"><link rel="prefetch" href="/assets/js/87.67386b27.js"><link rel="prefetch" href="/assets/js/88.0a7cd127.js"><link rel="prefetch" href="/assets/js/89.12c38758.js"><link rel="prefetch" href="/assets/js/90.b89be401.js"><link rel="prefetch" href="/assets/js/91.80474498.js"><link rel="prefetch" href="/assets/js/92.07124425.js"><link rel="prefetch" href="/assets/js/93.60cf5523.js"><link rel="prefetch" href="/assets/js/94.82d085ab.js"><link rel="prefetch" href="/assets/js/95.d67e6228.js"><link rel="prefetch" href="/assets/js/96.11ae92ac.js"><link rel="prefetch" href="/assets/js/97.863758ca.js"><link rel="prefetch" href="/assets/js/98.dee9bebc.js"><link rel="prefetch" href="/assets/js/99.0556bebf.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.4917f9af.js">
    <link rel="stylesheet" href="/assets/css/0.styles.340d46bc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="http://cdn.qiniu.liyansheng.top/img/graphic-4005286_640.png" alt="木子空间" class="logo"> <span class="site-name can-hide">木子空间</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.liyansheng.top/cdn/guide" target="_blank" rel="noopener noreferrer" class="nav-link external">
  网址导航
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="💻 编程笔记" class="dropdown-title"><span class="title">💻 编程笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="💻 编程笔记" class="mobile-dropdown-title"><span class="title">💻 编程笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Java
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Java/" class="nav-link">
  Java SE
</a></li><li class="dropdown-subitem"><a href="/Javaee/" class="nav-link">
  Java EE
</a></li><li class="dropdown-subitem"><a href="/springboot/" class="nav-link">
  Spring Boot
</a></li><li class="dropdown-subitem"><a href="/mybatis/" class="nav-link">
  MyBatis
</a></li><li class="dropdown-subitem"><a href="/swing/" class="nav-link router-link-active">
  Swing
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/MySQL/" class="nav-link">
  MySQL
</a></li></ul></li><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress/" class="nav-link">
  VuePress
</a></li><li class="dropdown-subitem"><a href="/Js/" class="nav-link">
  JavaScript库
</a></li><li class="dropdown-subitem"><a href="/bootstrap/" class="nav-link">
  Bootstrap
</a></li><li class="dropdown-subitem"><a href="/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/uniapp/" class="nav-link">
  uniapp
</a></li></ul></li><li class="dropdown-item"><h4>
          版本控制与容器化
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-subitem"><a href="/docker/" class="nav-link">
  Docker
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Python/" class="nav-link">
  Python
</a></li><li class="dropdown-subitem"><a href="/ElasticSearch/" class="nav-link">
  ElasticSearch
</a></li><li class="dropdown-subitem"><a href="/kafka/" class="nav-link">
  Kafka
</a></li><li class="dropdown-subitem"><a href="/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-subitem"><a href="/微信小程序/" class="nav-link">
  微信小程序
</a></li><li class="dropdown-subitem"><a href="/node/" class="nav-link">
  Node
</a></li></ul></li><li class="dropdown-item"><h4>
          Report
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/report/" class="nav-link">
  一般
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/project/" class="nav-link">
  📦项目合集
</a></div><div class="nav-item"><a href="https://www.liyansheng.top/me" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📑博主名片
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.liyansheng.top/blog/remote_help" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🔥远程调试🔥
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🎃更多玩法" class="dropdown-title"><span class="title">🎃更多玩法</span> <span class="arrow down"></span></button> <button type="button" aria-label="🎃更多玩法" class="mobile-dropdown-title"><span class="title">🎃更多玩法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          酷玩机
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.liyansheng.top/blog/posts/40617.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  科学上网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="/tool/Plugins.html" class="nav-link">
  浏览器插件
</a></li><li class="dropdown-subitem"><a href="/tool/自制视频流.html" class="nav-link">
  自制视频流
</a></li><li class="dropdown-subitem"><a href="/tool/好用API.html" class="nav-link">
  好用API
</a></li><li class="dropdown-subitem"><a href="https://www.liyansheng.top/blog/posts/18883.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  免费看电视
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.liyansheng.top/blog/posts/57913.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  搭建内网穿透
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🚀滴滴作者" class="dropdown-title"><span class="title">🚀滴滴作者</span> <span class="arrow down"></span></button> <button type="button" aria-label="🚀滴滴作者" class="mobile-dropdown-title"><span class="title">🚀滴滴作者</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          联系方式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://qm.qq.com/cgi-bin/qm/qr?k=NZUoWMzd3PQLWwxRGMiBNYEnVkEdNq__&amp;jump_from=webapi&amp;authKey=kgAofDqUzgwMCSX+UQQwxf837zMeWFGGmo4iIcbgkklW2pdfmVOlxPWAK6sMYMaC" target="_blank" rel="noopener noreferrer" class="nav-link external">
  一键私聊
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://cdn.qiniu.liyansheng.top/img/20240715004059.png" target="_blank" rel="noopener noreferrer" class="nav-link external">
  加QQ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://cdn.qiniu.liyansheng.top/img/image-20250723143552500.png" target="_blank" rel="noopener noreferrer" class="nav-link external">
  加微信
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://cdn.qiniu.liyansheng.top/img/20250522145954.png" target="_blank" rel="noopener noreferrer" class="nav-link external">
  打赏支持
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          足迹
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://www.liyansheng.top/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📗木子博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://blog.csdn.net/weixin_44107140" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📙CSDN博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yan-sheng-li" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://gitee.com/yan-sheng-li" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://cdn.qiniu.liyansheng.top/img/gzh_muzikongjianPro.png" target="_blank" rel="noopener noreferrer" class="nav-link external">
  公众号《木子空间Pro》
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="💖兴趣爱好" class="dropdown-title"><span class="title">💖兴趣爱好</span> <span class="arrow down"></span></button> <button type="button" aria-label="💖兴趣爱好" class="mobile-dropdown-title"><span class="title">💖兴趣爱好</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guitar/" class="nav-link">
  吉他（探索中）
</a></li><li class="dropdown-item"><!----> <a href="/qupu/" class="nav-link">
  曲谱
</a></li><li class="dropdown-item"><!----> <a href="/cooking/" class="nav-link">
  菜谱
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://www.liyansheng.top/cdn/guide" target="_blank" rel="noopener noreferrer" class="nav-link external">
  网址导航
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="💻 编程笔记" class="dropdown-title"><span class="title">💻 编程笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="💻 编程笔记" class="mobile-dropdown-title"><span class="title">💻 编程笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Java
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Java/" class="nav-link">
  Java SE
</a></li><li class="dropdown-subitem"><a href="/Javaee/" class="nav-link">
  Java EE
</a></li><li class="dropdown-subitem"><a href="/springboot/" class="nav-link">
  Spring Boot
</a></li><li class="dropdown-subitem"><a href="/mybatis/" class="nav-link">
  MyBatis
</a></li><li class="dropdown-subitem"><a href="/swing/" class="nav-link router-link-active">
  Swing
</a></li></ul></li><li class="dropdown-item"><h4>
          数据库
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/MySQL/" class="nav-link">
  MySQL
</a></li></ul></li><li class="dropdown-item"><h4>
          前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress/" class="nav-link">
  VuePress
</a></li><li class="dropdown-subitem"><a href="/Js/" class="nav-link">
  JavaScript库
</a></li><li class="dropdown-subitem"><a href="/bootstrap/" class="nav-link">
  Bootstrap
</a></li><li class="dropdown-subitem"><a href="/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/uniapp/" class="nav-link">
  uniapp
</a></li></ul></li><li class="dropdown-item"><h4>
          版本控制与容器化
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-subitem"><a href="/docker/" class="nav-link">
  Docker
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Python/" class="nav-link">
  Python
</a></li><li class="dropdown-subitem"><a href="/ElasticSearch/" class="nav-link">
  ElasticSearch
</a></li><li class="dropdown-subitem"><a href="/kafka/" class="nav-link">
  Kafka
</a></li><li class="dropdown-subitem"><a href="/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-subitem"><a href="/微信小程序/" class="nav-link">
  微信小程序
</a></li><li class="dropdown-subitem"><a href="/node/" class="nav-link">
  Node
</a></li></ul></li><li class="dropdown-item"><h4>
          Report
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/report/" class="nav-link">
  一般
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/project/" class="nav-link">
  📦项目合集
</a></div><div class="nav-item"><a href="https://www.liyansheng.top/me" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📑博主名片
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.liyansheng.top/blog/remote_help" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🔥远程调试🔥
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🎃更多玩法" class="dropdown-title"><span class="title">🎃更多玩法</span> <span class="arrow down"></span></button> <button type="button" aria-label="🎃更多玩法" class="mobile-dropdown-title"><span class="title">🎃更多玩法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          酷玩机
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.liyansheng.top/blog/posts/40617.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  科学上网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="/tool/Plugins.html" class="nav-link">
  浏览器插件
</a></li><li class="dropdown-subitem"><a href="/tool/自制视频流.html" class="nav-link">
  自制视频流
</a></li><li class="dropdown-subitem"><a href="/tool/好用API.html" class="nav-link">
  好用API
</a></li><li class="dropdown-subitem"><a href="https://www.liyansheng.top/blog/posts/18883.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  免费看电视
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.liyansheng.top/blog/posts/57913.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  搭建内网穿透
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🚀滴滴作者" class="dropdown-title"><span class="title">🚀滴滴作者</span> <span class="arrow down"></span></button> <button type="button" aria-label="🚀滴滴作者" class="mobile-dropdown-title"><span class="title">🚀滴滴作者</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          联系方式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://qm.qq.com/cgi-bin/qm/qr?k=NZUoWMzd3PQLWwxRGMiBNYEnVkEdNq__&amp;jump_from=webapi&amp;authKey=kgAofDqUzgwMCSX+UQQwxf837zMeWFGGmo4iIcbgkklW2pdfmVOlxPWAK6sMYMaC" target="_blank" rel="noopener noreferrer" class="nav-link external">
  一键私聊
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://cdn.qiniu.liyansheng.top/img/20240715004059.png" target="_blank" rel="noopener noreferrer" class="nav-link external">
  加QQ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://cdn.qiniu.liyansheng.top/img/image-20250723143552500.png" target="_blank" rel="noopener noreferrer" class="nav-link external">
  加微信
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://cdn.qiniu.liyansheng.top/img/20250522145954.png" target="_blank" rel="noopener noreferrer" class="nav-link external">
  打赏支持
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          足迹
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://www.liyansheng.top/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📗木子博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://blog.csdn.net/weixin_44107140" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📙CSDN博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/yan-sheng-li" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://gitee.com/yan-sheng-li" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://cdn.qiniu.liyansheng.top/img/gzh_muzikongjianPro.png" target="_blank" rel="noopener noreferrer" class="nav-link external">
  公众号《木子空间Pro》
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="💖兴趣爱好" class="dropdown-title"><span class="title">💖兴趣爱好</span> <span class="arrow down"></span></button> <button type="button" aria-label="💖兴趣爱好" class="mobile-dropdown-title"><span class="title">💖兴趣爱好</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guitar/" class="nav-link">
  吉他（探索中）
</a></li><li class="dropdown-item"><!----> <a href="/qupu/" class="nav-link">
  曲谱
</a></li><li class="dropdown-item"><!----> <a href="/cooking/" class="nav-link">
  菜谱
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>swing</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/swing/1/" class="sidebar-link">XChart创建多种图表</a></li><li><a href="/swing/2/" class="sidebar-link">JComboBox创建下拉列表</a></li><li><a href="/swing/3/" class="sidebar-link">表格获取勾选行</a></li><li><a href="/swing/4/" class="sidebar-link">实现简单的CRUD</a></li><li><a href="/swing/5/" class="sidebar-link">日期时间选择器</a></li><li><a href="/swing/6/" class="sidebar-link">table表格数据导出</a></li><li><a href="/swing/7/" class="sidebar-link">表格数据导出到excel表格</a></li><li><a href="/swing/9/" class="sidebar-link">ResultSet导出到execl表格</a></li><li><a href="/swing/8/" class="sidebar-link">表格自定义颜色</a></li><li><a href="/swing/10/" class="sidebar-link">动态时间显示到窗口</a></li><li><a href="/swing/11/" class="sidebar-link">excel数据导入到MySQL</a></li><li><a href="/swing/12/" class="sidebar-link">主题美化</a></li><li><a href="/swing/文件操作-简易.html" class="sidebar-link">文件操作-简易</a></li><li><a href="/swing/自定义JPanel自适应显示图片.html" class="sidebar-link">自定义JPanel自适应显示图片</a></li><li><a href="/swing/实现滚动字幕.html" class="sidebar-link">实现滚动字幕</a></li><li><a href="/swing/表格行高列宽调整.html" class="sidebar-link">表格行高列宽调整</a></li><li><a href="/swing/自定义封装组件.html" class="active sidebar-link">Swing自定义组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/swing/自定义封装组件.html#短暂消息提示" class="sidebar-link">短暂消息提示</a></li><li class="sidebar-sub-header"><a href="/swing/自定义封装组件.html#定制按钮" class="sidebar-link">定制按钮</a></li><li class="sidebar-sub-header"><a href="/swing/自定义封装组件.html#动态控制tab" class="sidebar-link">动态控制Tab</a></li><li class="sidebar-sub-header"><a href="/swing/自定义封装组件.html#面板图片操作" class="sidebar-link">面板图片操作</a></li><li class="sidebar-sub-header"><a href="/swing/自定义封装组件.html#下拉框组件" class="sidebar-link">下拉框组件</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="swing自定义组件"><a href="#swing自定义组件" class="header-anchor">#</a> Swing自定义组件</h1> <h2 id="短暂消息提示"><a href="#短暂消息提示" class="header-anchor">#</a> 短暂消息提示</h2> <p><img src="http://cdn.qiniu.liyansheng.top/img/image-20250725141547852.png" alt="image-20250725141547852"></p> <h3 id="封装"><a href="#封装" class="header-anchor">#</a> 封装</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">demo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Toast</span> <span class="token keyword">extends</span> <span class="token class-name">JWindow</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">WIDTH</span> <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">HEIGHT</span> <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">DEFAULT_DURATION</span> <span class="token operator">=</span> <span class="token number">2000</span><span class="token punctuation">;</span> <span class="token comment">// 2 秒</span>

    <span class="token keyword">private</span> <span class="token class-name">Toast</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">,</span> <span class="token class-name">Color</span> bgColor<span class="token punctuation">,</span> <span class="token keyword">int</span> durationMillis<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JPanel</span> panel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        panel<span class="token punctuation">.</span><span class="token function">setBackground</span><span class="token punctuation">(</span>bgColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
        panel<span class="token punctuation">.</span><span class="token function">setBorder</span><span class="token punctuation">(</span><span class="token class-name">BorderFactory</span><span class="token punctuation">.</span><span class="token function">createLineBorder</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">DARK_GRAY</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        panel<span class="token punctuation">.</span><span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BorderLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">JLabel</span> label <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JLabel</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token class-name">SwingConstants</span><span class="token punctuation">.</span><span class="token constant">CENTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        label<span class="token punctuation">.</span><span class="token function">setForeground</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        label<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">&quot;微软雅黑&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span><span class="token constant">PLAIN</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        panel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>label<span class="token punctuation">,</span> <span class="token class-name">BorderLayout</span><span class="token punctuation">.</span><span class="token constant">CENTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">setContentPane</span><span class="token punctuation">(</span>panel<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setSize</span><span class="token punctuation">(</span><span class="token constant">WIDTH</span><span class="token punctuation">,</span> <span class="token constant">HEIGHT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 设置在屏幕中央（可自定义位置）</span>
        <span class="token class-name">Dimension</span> screen <span class="token operator">=</span> <span class="token class-name">Toolkit</span><span class="token punctuation">.</span><span class="token function">getDefaultToolkit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getScreenSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token punctuation">(</span>screen<span class="token punctuation">.</span>width <span class="token operator">-</span> <span class="token constant">WIDTH</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> y <span class="token operator">=</span> screen<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// 顶部偏下一点</span>
        <span class="token function">setLocation</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 淡入显示 &amp; 自动关闭</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span>durationMillis<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> ignored<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">SwingUtilities</span><span class="token punctuation">.</span><span class="token function">invokeLater</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">::</span><span class="token function">dispose</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">showToast</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">showToast</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token constant">DEFAULT_DURATION</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">showToast</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">,</span> <span class="token keyword">int</span> durationMillis<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">showToast</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">,</span> durationMillis<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">showToast</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">,</span> <span class="token class-name">Color</span> bgColor<span class="token punctuation">,</span> <span class="token keyword">int</span> durationMillis<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SwingUtilities</span><span class="token punctuation">.</span><span class="token function">invokeLater</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Toast</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> bgColor<span class="token punctuation">,</span> durationMillis<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 快捷方法：成功 / 错误 / 信息 / 警告</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">showSuccess</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">showToast</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">76</span><span class="token punctuation">,</span> <span class="token number">175</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">DEFAULT_DURATION</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">showError</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">showToast</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">244</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">DEFAULT_DURATION</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">showInfo</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">showToast</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">243</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">DEFAULT_DURATION</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">showWarning</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">showToast</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">152</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">DEFAULT_DURATION</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">demo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ToastTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SwingUtilities</span><span class="token punctuation">.</span><span class="token function">invokeLater</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">JFrame</span> frame <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JFrame</span><span class="token punctuation">(</span><span class="token string">&quot;Toast 消息测试&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setDefaultCloseOperation</span><span class="token punctuation">(</span><span class="token class-name">JFrame</span><span class="token punctuation">.</span><span class="token constant">EXIT_ON_CLOSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setLocationRelativeTo</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">JPanel</span> panel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JPanel</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">GridLayout</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">JButton</span> successBtn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">&quot;显示成功提示&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            successBtn<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">showSuccess</span><span class="token punctuation">(</span><span class="token string">&quot;保存成功！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">JButton</span> errorBtn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">&quot;显示错误提示&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            errorBtn<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">showError</span><span class="token punctuation">(</span><span class="token string">&quot;保存失败，请重试。&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">JButton</span> infoBtn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">&quot;显示信息提示&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            infoBtn<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">showInfo</span><span class="token punctuation">(</span><span class="token string">&quot;更新已完成。&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">JButton</span> warnBtn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">&quot;显示警告提示&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            warnBtn<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">showWarning</span><span class="token punctuation">(</span><span class="token string">&quot;数据不完整，请检查。&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            panel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>successBtn<span class="token punctuation">)</span><span class="token punctuation">;</span>
            panel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>errorBtn<span class="token punctuation">)</span><span class="token punctuation">;</span>
            panel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>infoBtn<span class="token punctuation">)</span><span class="token punctuation">;</span>
            panel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>warnBtn<span class="token punctuation">)</span><span class="token punctuation">;</span>

            frame<span class="token punctuation">.</span><span class="token function">setContentPane</span><span class="token punctuation">(</span>panel<span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="定制按钮"><a href="#定制按钮" class="header-anchor">#</a> 定制按钮</h2> <blockquote><p><strong>按钮工厂（<code>ButtonFactory</code>）</strong> 工具类，用于快速生成统一风格的按钮。</p></blockquote> <p><img src="http://cdn.qiniu.liyansheng.top/img/image-20250725135945004.png" alt="image-20250725135945004"></p> <h3 id="封装-2"><a href="#封装-2" class="header-anchor">#</a> 封装</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">demo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span></span><span class="token class-name">KeyEvent</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ButtonFactory</span> <span class="token punctuation">{</span>

    <span class="token comment">/**
     * 通用按钮创建方法
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">JButton</span> <span class="token function">createButton</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">,</span> <span class="token class-name">Color</span> fg<span class="token punctuation">,</span> <span class="token class-name">Color</span> bg<span class="token punctuation">,</span> <span class="token class-name">Font</span> font<span class="token punctuation">,</span> <span class="token class-name">Icon</span> icon<span class="token punctuation">,</span> <span class="token class-name">Integer</span> mnemonic<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JButton</span> button <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
        button<span class="token punctuation">.</span><span class="token function">setForeground</span><span class="token punctuation">(</span>fg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        button<span class="token punctuation">.</span><span class="token function">setBackground</span><span class="token punctuation">(</span>bg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        button<span class="token punctuation">.</span><span class="token function">setFocusPainted</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        button<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span>font <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> font <span class="token operator">:</span> button<span class="token punctuation">.</span><span class="token function">getFont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>icon <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            button<span class="token punctuation">.</span><span class="token function">setIcon</span><span class="token punctuation">(</span>icon<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>mnemonic <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            button<span class="token punctuation">.</span><span class="token function">setMnemonic</span><span class="token punctuation">(</span>mnemonic<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 支持快捷键</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 可选统一按钮样式，例如圆角、边框、hover 效果可以后续增强</span>
        <span class="token keyword">return</span> button<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 主按钮（蓝色）</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">JButton</span> <span class="token function">createPrimaryButton</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">createButton</span><span class="token punctuation">(</span>
                text<span class="token punctuation">,</span>
                <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">243</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">&quot;微软雅黑&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span><span class="token constant">PLAIN</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">null</span><span class="token punctuation">,</span>
                <span class="token keyword">null</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 次按钮（灰色）</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">JButton</span> <span class="token function">createSecondaryButton</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">createButton</span><span class="token punctuation">(</span>
                text<span class="token punctuation">,</span>
                <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">BLACK</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">224</span><span class="token punctuation">,</span> <span class="token number">224</span><span class="token punctuation">,</span> <span class="token number">224</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">&quot;微软雅黑&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span><span class="token constant">PLAIN</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">null</span><span class="token punctuation">,</span>
                <span class="token keyword">null</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 成功按钮（绿色）</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">JButton</span> <span class="token function">createSuccessButton</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">createButton</span><span class="token punctuation">(</span>
                text<span class="token punctuation">,</span>
                <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">76</span><span class="token punctuation">,</span> <span class="token number">175</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">&quot;微软雅黑&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span><span class="token constant">PLAIN</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">null</span><span class="token punctuation">,</span>
                <span class="token keyword">null</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 危险按钮（红色）</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">JButton</span> <span class="token function">createDangerButton</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">createButton</span><span class="token punctuation">(</span>
                text<span class="token punctuation">,</span>
                <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">244</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">&quot;微软雅黑&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span><span class="token constant">PLAIN</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">null</span><span class="token punctuation">,</span>
                <span class="token keyword">null</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 自定义字体大小版本</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">JButton</span> <span class="token function">createPrimaryButton</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">,</span> <span class="token keyword">int</span> fontSize<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">createButton</span><span class="token punctuation">(</span>
                text<span class="token punctuation">,</span>
                <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">243</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">&quot;微软雅黑&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span><span class="token constant">PLAIN</span><span class="token punctuation">,</span> fontSize<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">null</span><span class="token punctuation">,</span>
                <span class="token keyword">null</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 添加快捷键按钮</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">JButton</span> <span class="token function">createButtonWithShortcut</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">,</span> <span class="token keyword">char</span> shortcutKey<span class="token punctuation">,</span> <span class="token class-name">Color</span> bgColor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">createButton</span><span class="token punctuation">(</span>
                text<span class="token punctuation">,</span>
                <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">,</span>
                bgColor<span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">&quot;微软雅黑&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span><span class="token constant">PLAIN</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">null</span><span class="token punctuation">,</span>
                <span class="token class-name">KeyEvent</span><span class="token punctuation">.</span><span class="token function">getExtendedKeyCodeForChar</span><span class="token punctuation">(</span>shortcutKey<span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="使用-2"><a href="#使用-2" class="header-anchor">#</a> 使用</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">demo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ButtonFactoryTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SwingUtilities</span><span class="token punctuation">.</span><span class="token function">invokeLater</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">JFrame</span> frame <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JFrame</span><span class="token punctuation">(</span><span class="token string">&quot;按钮工厂测试&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setDefaultCloseOperation</span><span class="token punctuation">(</span><span class="token class-name">JFrame</span><span class="token punctuation">.</span><span class="token constant">EXIT_ON_CLOSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setLocationRelativeTo</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">JPanel</span> panel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            panel<span class="token punctuation">.</span><span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">GridLayout</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            panel<span class="token punctuation">.</span><span class="token function">setBorder</span><span class="token punctuation">(</span><span class="token class-name">BorderFactory</span><span class="token punctuation">.</span><span class="token function">createEmptyBorder</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            panel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">ButtonFactory</span><span class="token punctuation">.</span><span class="token function">createPrimaryButton</span><span class="token punctuation">(</span><span class="token string">&quot;主按钮&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            panel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">ButtonFactory</span><span class="token punctuation">.</span><span class="token function">createSecondaryButton</span><span class="token punctuation">(</span><span class="token string">&quot;次按钮&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            panel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">ButtonFactory</span><span class="token punctuation">.</span><span class="token function">createSuccessButton</span><span class="token punctuation">(</span><span class="token string">&quot;成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            panel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">ButtonFactory</span><span class="token punctuation">.</span><span class="token function">createDangerButton</span><span class="token punctuation">(</span><span class="token string">&quot;危险&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            panel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">ButtonFactory</span><span class="token punctuation">.</span><span class="token function">createButtonWithShortcut</span><span class="token punctuation">(</span><span class="token string">&quot;快捷键按钮 (Alt+S)&quot;</span><span class="token punctuation">,</span> <span class="token char">'S'</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">152</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            frame<span class="token punctuation">.</span><span class="token function">setContentPane</span><span class="token punctuation">(</span>panel<span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="动态控制tab"><a href="#动态控制tab" class="header-anchor">#</a> 动态控制Tab</h2> <blockquote><p>用 <code>JTabbedPane</code> 做核心，封装一个 <code>DynamicTabPanel</code> 类，然后在主 <code>JFrame</code> 初始化时动态传入 tab 的数量、标题和内容。</p></blockquote> <p><img src="http://cdn.qiniu.liyansheng.top/img/image-20250725134136418.png" alt="image-20250725134136418"></p> <h3 id="封装-3"><a href="#封装-3" class="header-anchor">#</a> 封装</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bbs</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DynamicTabPanel</span> <span class="token keyword">extends</span> <span class="token class-name">JPanel</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">JTabbedPane</span> tabbedPane<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">DynamicTabPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BorderLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        tabbedPane <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JTabbedPane</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">add</span><span class="token punctuation">(</span>tabbedPane<span class="token punctuation">,</span> <span class="token class-name">BorderLayout</span><span class="token punctuation">.</span><span class="token constant">CENTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 添加一个新 Tab
     * @param title 标签标题
     * @param content 标签内容（任何 JComponent）
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addTab</span><span class="token punctuation">(</span><span class="token class-name">String</span> title<span class="token punctuation">,</span> <span class="token class-name">JComponent</span> content<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        tabbedPane<span class="token punctuation">.</span><span class="token function">addTab</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 批量添加多个 Tab
     * @param tabs List of TabItem(title + component)
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTabs</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TabItem</span><span class="token punctuation">&gt;</span></span> tabs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        tabbedPane<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 清空旧的</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">TabItem</span> tab <span class="token operator">:</span> tabs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">addTab</span><span class="token punctuation">(</span>tab<span class="token punctuation">.</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tab<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">JTabbedPane</span> <span class="token function">getTabbedPane</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> tabbedPane<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 静态内部类表示单个 Tab</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">TabItem</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> title<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">JComponent</span> content<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">TabItem</span><span class="token punctuation">(</span><span class="token class-name">String</span> title<span class="token punctuation">,</span> <span class="token class-name">JComponent</span> content<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>title <span class="token operator">=</span> title<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>content <span class="token operator">=</span> content<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> title<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">JComponent</span> <span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> content<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="使用-3"><a href="#使用-3" class="header-anchor">#</a> 使用</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bbs</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DynamicTabTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SwingUtilities</span><span class="token punctuation">.</span><span class="token function">invokeLater</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">JFrame</span> frame <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JFrame</span><span class="token punctuation">(</span><span class="token string">&quot;动态 Tab 面板示例&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setDefaultCloseOperation</span><span class="token punctuation">(</span><span class="token class-name">JFrame</span><span class="token punctuation">.</span><span class="token constant">EXIT_ON_CLOSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setLocationRelativeTo</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">DynamicTabPanel</span> tabPanel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DynamicTabPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 动态生成 tab 数据</span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DynamicTabPanel<span class="token punctuation">.</span>TabItem</span><span class="token punctuation">&gt;</span></span> tabs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">JPanel</span> content <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                content<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">JLabel</span><span class="token punctuation">(</span><span class="token string">&quot;这是第 &quot;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&quot; 个标签页的内容&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                tabs<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DynamicTabPanel<span class="token punctuation">.</span>TabItem</span><span class="token punctuation">(</span><span class="token string">&quot;标签页 &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            tabPanel<span class="token punctuation">.</span><span class="token function">setTabs</span><span class="token punctuation">(</span>tabs<span class="token punctuation">)</span><span class="token punctuation">;</span>

            frame<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>tabPanel<span class="token punctuation">,</span> <span class="token class-name">BorderLayout</span><span class="token punctuation">.</span><span class="token constant">CENTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="面板图片操作"><a href="#面板图片操作" class="header-anchor">#</a> 面板图片操作</h2> <h3 id="图片上传"><a href="#图片上传" class="header-anchor">#</a> 图片上传</h3> <table><thead><tr><th>功能</th> <th>实现情况</th></tr></thead> <tbody><tr><td>支持本地文件选择</td> <td>✅</td></tr> <tr><td>自动复制到 <code>/upload</code></td> <td>✅</td></tr> <tr><td>自动创建 upload 目录</td> <td>✅</td></tr> <tr><td>命名统一、避免重复</td> <td>✅（时间戳命名）</td></tr> <tr><td>显示上传后图片</td> <td>✅</td></tr> <tr><td>输出最终图片路径（可存库）</td> <td>✅</td></tr></tbody></table> <p><img src="http://cdn.qiniu.liyansheng.top/img/image-20250723141502570.png" alt="image-20250723141502570"></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bbs<span class="token punctuation">.</span>view</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>bbs<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">BookDao</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">SimpleDateFormat</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ImageUpload</span> <span class="token keyword">extends</span> <span class="token class-name">JFrame</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">JLabel</span> imageLabel<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">JButton</span> selectButton<span class="token punctuation">,</span> uploadButton<span class="token punctuation">,</span> resetButton<span class="token punctuation">,</span>backButton<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">File</span> selectedImageFile<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> uploadedImagePath<span class="token punctuation">;</span>


    <span class="token keyword">public</span> <span class="token class-name">ImageUpload</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token string">&quot;图片上传&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>bookId <span class="token operator">=</span> id<span class="token punctuation">;</span>

        selectButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">&quot;选择图片&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        uploadButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">&quot;上传图片&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resetButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">&quot;重置图片&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">JButton</span> backButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">&quot;返回&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ✅ 新增返回按钮</span>

        imageLabel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JLabel</span><span class="token punctuation">(</span><span class="token string">&quot;暂无图片&quot;</span><span class="token punctuation">,</span> <span class="token class-name">SwingConstants</span><span class="token punctuation">.</span><span class="token constant">CENTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        imageLabel<span class="token punctuation">.</span><span class="token function">setPreferredSize</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Dimension</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        imageLabel<span class="token punctuation">.</span><span class="token function">setBorder</span><span class="token punctuation">(</span><span class="token class-name">BorderFactory</span><span class="token punctuation">.</span><span class="token function">createLineBorder</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">GRAY</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        imageLabel<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">&quot;微软雅黑&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Font</span><span class="token punctuation">.</span><span class="token constant">PLAIN</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        imageLabel<span class="token punctuation">.</span><span class="token function">setForeground</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">GRAY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 整体使用 BorderLayout</span>
        <span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BorderLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 中部内容：按钮 + 图片</span>
        <span class="token class-name">JPanel</span> centerPanel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        centerPanel<span class="token punctuation">.</span><span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BoxLayout</span><span class="token punctuation">(</span>centerPanel<span class="token punctuation">,</span> <span class="token class-name">BoxLayout</span><span class="token punctuation">.</span><span class="token constant">Y_AXIS</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 原按钮行</span>
        <span class="token class-name">JPanel</span> buttonPanel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JPanel</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FlowLayout</span><span class="token punctuation">(</span><span class="token class-name">FlowLayout</span><span class="token punctuation">.</span><span class="token constant">CENTER</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        buttonPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>selectButton<span class="token punctuation">)</span><span class="token punctuation">;</span>
        buttonPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>uploadButton<span class="token punctuation">)</span><span class="token punctuation">;</span>
        buttonPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>resetButton<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 图片显示区域</span>
        <span class="token class-name">JPanel</span> imagePanel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        imagePanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>imageLabel<span class="token punctuation">)</span><span class="token punctuation">;</span>

        centerPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>buttonPanel<span class="token punctuation">)</span><span class="token punctuation">;</span>
        centerPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>imagePanel<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">add</span><span class="token punctuation">(</span>centerPanel<span class="token punctuation">,</span> <span class="token class-name">BorderLayout</span><span class="token punctuation">.</span><span class="token constant">CENTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 底部返回按钮单独一行</span>
        <span class="token class-name">JPanel</span> bottomPanel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bottomPanel<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>backButton<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">add</span><span class="token punctuation">(</span>bottomPanel<span class="token punctuation">,</span> <span class="token class-name">BorderLayout</span><span class="token punctuation">.</span><span class="token constant">SOUTH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 事件绑定</span>
        selectButton<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span> <span class="token function">chooseImageFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        uploadButton<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span> <span class="token function">confirmUpload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resetButton<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span> <span class="token function">resetImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        backButton<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 关闭窗口</span>

        <span class="token function">setDefaultCloseOperation</span><span class="token punctuation">(</span><span class="token class-name">JFrame</span><span class="token punctuation">.</span><span class="token constant">EXIT_ON_CLOSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">450</span><span class="token punctuation">,</span> <span class="token number">360</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setLocationRelativeTo</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>



    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">chooseImageFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JFileChooser</span> fileChooser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JFileChooser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fileChooser<span class="token punctuation">.</span><span class="token function">setFileFilter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span>filechooser<span class="token punctuation">.</span></span>FileFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> extensions <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;jpg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jpeg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;png&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;gif&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bmp&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">File</span> f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> name <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> ext <span class="token operator">:</span> extensions<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span>ext<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">&quot;图片文件 (*.jpg, *.png, *.gif, *.bmp)&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> result <span class="token operator">=</span> fileChooser<span class="token punctuation">.</span><span class="token function">showOpenDialog</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> <span class="token class-name">JFileChooser</span><span class="token punctuation">.</span><span class="token constant">APPROVE_OPTION</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            selectedImageFile <span class="token operator">=</span> fileChooser<span class="token punctuation">.</span><span class="token function">getSelectedFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">previewImage</span><span class="token punctuation">(</span>selectedImageFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">resetImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        selectedImageFile <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        uploadedImagePath <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        imageLabel<span class="token punctuation">.</span><span class="token function">setIcon</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        imageLabel<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;暂无图片&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        imageLabel<span class="token punctuation">.</span><span class="token function">setForeground</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">GRAY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">previewImage</span><span class="token punctuation">(</span><span class="token class-name">File</span> file<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>file <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token class-name">ImageIcon</span> icon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Image</span> img <span class="token operator">=</span> icon<span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getScaledInstance</span><span class="token punctuation">(</span>
                imageLabel<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> imageLabel<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Image</span><span class="token punctuation">.</span><span class="token constant">SCALE_SMOOTH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        imageLabel<span class="token punctuation">.</span><span class="token function">setIcon</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        imageLabel<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">confirmUpload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>selectedImageFile <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">JOptionPane</span><span class="token punctuation">.</span><span class="token function">showMessageDialog</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;请先选择图片！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token function">saveToUploadDirectory</span><span class="token punctuation">(</span>selectedImageFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>path <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            uploadedImagePath <span class="token operator">=</span> path<span class="token punctuation">;</span>
            <span class="token class-name">JOptionPane</span><span class="token punctuation">.</span><span class="token function">showMessageDialog</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;图片上传成功！\n路径：&quot;</span> <span class="token operator">+</span> uploadedImagePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;图片已上传至：&quot;</span> <span class="token operator">+</span> uploadedImagePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// TODO: 保存路径</span>
            <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">JOptionPane</span><span class="token punctuation">.</span><span class="token function">showMessageDialog</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;图片上传失败！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">saveToUploadDirectory</span><span class="token punctuation">(</span><span class="token class-name">File</span> sourceFile<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">File</span> uploadDir <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;upload&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>uploadDir<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> uploadDir<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">String</span> originalName <span class="token operator">=</span> sourceFile<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> ext <span class="token operator">=</span> originalName<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>originalName<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> timeStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyyMMddHHmmss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> newFileName <span class="token operator">=</span> <span class="token string">&quot;dish_&quot;</span> <span class="token operator">+</span> timeStr <span class="token operator">+</span> ext<span class="token punctuation">;</span>

            <span class="token class-name">File</span> destFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>uploadDir<span class="token punctuation">,</span> newFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>sourceFile<span class="token punctuation">.</span><span class="token function">toPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> destFile<span class="token punctuation">.</span><span class="token function">toPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">StandardCopyOption</span><span class="token punctuation">.</span><span class="token constant">REPLACE_EXISTING</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> destFile<span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre></div><h3 id="表格图片展示"><a href="#表格图片展示" class="header-anchor">#</a> 表格图片展示</h3> <h4 id="封装-4"><a href="#封装-4" class="header-anchor">#</a> 封装</h4> <ul><li>图片自适应</li> <li>表格可指定显示图片的列，可设置表格字体、表头字体大小</li> <li>表格可指定隐藏某些行</li> <li>方便复用</li></ul> <p><img src="http://cdn.qiniu.liyansheng.top/img/image-20250723131118279.png" alt="image-20250723131118279"></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bbs<span class="token punctuation">.</span>util</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span>table<span class="token punctuation">.</span></span><span class="token class-name">DefaultTableCellRenderer</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span>table<span class="token punctuation">.</span></span><span class="token class-name">DefaultTableModel</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span>table<span class="token punctuation">.</span></span><span class="token class-name">TableCellRenderer</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">URL</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Set</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PlusTable</span> <span class="token keyword">extends</span> <span class="token class-name">JTable</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token class-name">PlusTable</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> columnNames<span class="token punctuation">,</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> imageColumns<span class="token punctuation">,</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> hiddenColumns<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DefaultTableModel</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> columnNames<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isCellEditable</span><span class="token punctuation">(</span><span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> column<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">getColumnClass</span><span class="token punctuation">(</span><span class="token keyword">int</span> columnIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//        getTableHeader().setFont(new Font(&quot;宋体&quot;, Font.BOLD, 18)); // 设置表头字体</span>

<span class="token comment">//        setFont(new Font(&quot;宋体&quot;, Font.PLAIN, 18));  // 设置表格字体</span>

        <span class="token function">setRowHeight</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 设置行高</span>

        <span class="token comment">// 图片列渲染器</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> col <span class="token operator">:</span> imageColumns<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">getColumnModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getColumn</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setCellRenderer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ProportionalImageRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 非图片列居中</span>
        <span class="token class-name">DefaultTableCellRenderer</span> centerRenderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultTableCellRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        centerRenderer<span class="token punctuation">.</span><span class="token function">setHorizontalAlignment</span><span class="token punctuation">(</span><span class="token class-name">SwingConstants</span><span class="token punctuation">.</span><span class="token constant">CENTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">getColumnCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>imageColumns<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">getColumnModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getColumn</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setCellRenderer</span><span class="token punctuation">(</span>centerRenderer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 隐藏指定列</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>hiddenColumns <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">getColumnCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 从后向前删，避免越界</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>hiddenColumns<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">getColumnModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeColumn</span><span class="token punctuation">(</span><span class="token function">getColumnModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getColumn</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 图片渲染器内部类</span>
    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">ProportionalImageRenderer</span> <span class="token keyword">extends</span> <span class="token class-name">JLabel</span> <span class="token keyword">implements</span> <span class="token class-name">TableCellRenderer</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">VERTICAL_PADDING</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">ProportionalImageRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">setHorizontalAlignment</span><span class="token punctuation">(</span><span class="token constant">CENTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setVerticalAlignment</span><span class="token punctuation">(</span><span class="token constant">CENTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setOpaque</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setBorder</span><span class="token punctuation">(</span><span class="token class-name">BorderFactory</span><span class="token punctuation">.</span><span class="token function">createEmptyBorder</span><span class="token punctuation">(</span><span class="token constant">VERTICAL_PADDING</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">VERTICAL_PADDING</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Component</span> <span class="token function">getTableCellRendererComponent</span><span class="token punctuation">(</span><span class="token class-name">JTable</span> table<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">,</span>
                                                       <span class="token keyword">boolean</span> isSelected<span class="token punctuation">,</span> <span class="token keyword">boolean</span> hasFocus<span class="token punctuation">,</span>
                                                       <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> column<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">setText</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setIcon</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> value<span class="token punctuation">;</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token class-name">ImageIcon</span> icon<span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;http://&quot;</span><span class="token punctuation">)</span> <span class="token operator">||</span> path<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;https://&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        icon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                        <span class="token class-name">File</span> imgFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>imgFile<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;图片不存在&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                        icon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>

                    <span class="token keyword">int</span> cellWidth <span class="token operator">=</span> table<span class="token punctuation">.</span><span class="token function">getColumnModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getColumn</span><span class="token punctuation">(</span>column<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">int</span> cellHeight <span class="token operator">=</span> table<span class="token punctuation">.</span><span class="token function">getRowHeight</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token constant">VERTICAL_PADDING</span><span class="token punctuation">;</span>

                    <span class="token keyword">int</span> imgWidth <span class="token operator">=</span> icon<span class="token punctuation">.</span><span class="token function">getIconWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">int</span> imgHeight <span class="token operator">=</span> icon<span class="token punctuation">.</span><span class="token function">getIconHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                    <span class="token keyword">if</span> <span class="token punctuation">(</span>imgWidth <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> imgHeight <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">double</span> widthRatio <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span> cellWidth <span class="token operator">/</span> imgWidth<span class="token punctuation">;</span>
                        <span class="token keyword">double</span> heightRatio <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span> cellHeight <span class="token operator">/</span> imgHeight<span class="token punctuation">;</span>
                        <span class="token keyword">double</span> scale <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>widthRatio<span class="token punctuation">,</span> heightRatio<span class="token punctuation">)</span><span class="token punctuation">;</span>

                        <span class="token keyword">int</span> newWidth <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>imgWidth <span class="token operator">*</span> scale<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">int</span> newHeight <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>imgHeight <span class="token operator">*</span> scale<span class="token punctuation">)</span><span class="token punctuation">;</span>

                        <span class="token class-name">Image</span> scaledImg <span class="token operator">=</span> icon<span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getScaledInstance</span><span class="token punctuation">(</span>newWidth<span class="token punctuation">,</span> newHeight<span class="token punctuation">,</span> <span class="token class-name">Image</span><span class="token punctuation">.</span><span class="token constant">SCALE_SMOOTH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token function">setIcon</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span>scaledImg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;加载失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="如何使用"><a href="#如何使用" class="header-anchor">#</a> 如何使用</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">JTable</span> table<span class="token punctuation">;</span>

table <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PlusTable</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> columnNames<span class="token punctuation">,</span> <span class="token class-name">Set</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">Set</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
table<span class="token punctuation">.</span><span class="token function">setRowHeight</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
scrollPane<span class="token punctuation">.</span><span class="token function">setViewportView</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">initTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">fillTable</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> bookList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">DefaultTableModel</span> model <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DefaultTableModel</span><span class="token punctuation">)</span> table<span class="token punctuation">.</span><span class="token function">getModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">setRowCount</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 清除旧数据</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Book</span> book <span class="token operator">:</span> bookList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            model<span class="token punctuation">.</span><span class="token function">addRow</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>
                    book<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    book<span class="token punctuation">.</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    book<span class="token punctuation">.</span><span class="token function">getAuthor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    book<span class="token punctuation">.</span><span class="token function">getIsbn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    book<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    book<span class="token punctuation">.</span><span class="token function">getCover</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="label展示图片"><a href="#label展示图片" class="header-anchor">#</a> Label展示图片</h3> <h4 id="封装-5"><a href="#封装-5" class="header-anchor">#</a> 封装</h4> <ul><li>图片自适应完整呈现</li></ul> <p><img src="http://cdn.qiniu.liyansheng.top/img/image-20250725131929459.png" alt="image-20250725131929459"></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bbs</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>imageio<span class="token punctuation">.</span></span><span class="token class-name">ImageIO</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AutoResizeImageLabel</span> <span class="token keyword">extends</span> <span class="token class-name">JLabel</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Image</span> originalImage<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">AutoResizeImageLabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setHorizontalAlignment</span><span class="token punctuation">(</span><span class="token constant">CENTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setVerticalAlignment</span><span class="token punctuation">(</span><span class="token constant">CENTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 直接从 Image 对象设置图像
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setImage</span><span class="token punctuation">(</span><span class="token class-name">Image</span> image<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>originalImage <span class="token operator">=</span> image<span class="token punctuation">;</span>
        <span class="token function">repaint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 从文件路径加载图像并设置
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">setImageFromFile</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;文件不存在: &quot;</span> <span class="token operator">+</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token class-name">Image</span> img <span class="token operator">=</span> <span class="token class-name">ImageIO</span><span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>img <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">setImage</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;无法读取图片文件: &quot;</span> <span class="token operator">+</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">paintComponent</span><span class="token punctuation">(</span><span class="token class-name">Graphics</span> g<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">paintComponent</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>originalImage <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> labelWidth <span class="token operator">=</span> <span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> labelHeight <span class="token operator">=</span> <span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">int</span> imgWidth <span class="token operator">=</span> originalImage<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> imgHeight <span class="token operator">=</span> originalImage<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>imgWidth <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> imgHeight <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">double</span> scale <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span> labelWidth <span class="token operator">/</span> imgWidth<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span> labelHeight <span class="token operator">/</span> imgHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">int</span> drawWidth <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>imgWidth <span class="token operator">*</span> scale<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">int</span> drawHeight <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>imgHeight <span class="token operator">*</span> scale<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token punctuation">(</span>labelWidth <span class="token operator">-</span> drawWidth<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
                <span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token punctuation">(</span>labelHeight <span class="token operator">-</span> drawHeight<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>

                g<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>originalImage<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> drawWidth<span class="token punctuation">,</span> drawHeight<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="如何使用-2"><a href="#如何使用-2" class="header-anchor">#</a> 如何使用</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bbs</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestAutoResizeLabel</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SwingUtilities</span><span class="token punctuation">.</span><span class="token function">invokeLater</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">JFrame</span> frame <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JFrame</span><span class="token punctuation">(</span><span class="token string">&quot;自动适应图片展示&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setDefaultCloseOperation</span><span class="token punctuation">(</span><span class="token class-name">JFrame</span><span class="token punctuation">.</span><span class="token constant">EXIT_ON_CLOSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setLocationRelativeTo</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">getContentPane</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">AutoResizeImageLabel</span> imageLabel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AutoResizeImageLabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            imageLabel<span class="token punctuation">.</span><span class="token function">setBounds</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">436</span><span class="token punctuation">,</span> <span class="token number">213</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">getContentPane</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>imageLabel<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 使用封装的方法加载图片</span>
            <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token string">&quot;upload/pngsucai_1359311_90049c.png&quot;</span><span class="token punctuation">;</span>
            <span class="token keyword">boolean</span> loaded <span class="token operator">=</span> imageLabel<span class="token punctuation">.</span><span class="token function">setImageFromFile</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token class-name">JLabel</span> lblNewLabel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JLabel</span><span class="token punctuation">(</span><span class="token string">&quot;内容测试&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            lblNewLabel<span class="token punctuation">.</span><span class="token function">setBounds</span><span class="token punctuation">(</span><span class="token number">257</span><span class="token punctuation">,</span> <span class="token number">294</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">getContentPane</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>lblNewLabel<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>loaded<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">JOptionPane</span><span class="token punctuation">.</span><span class="token function">showMessageDialog</span><span class="token punctuation">(</span>frame<span class="token punctuation">,</span> <span class="token string">&quot;图片加载失败: &quot;</span> <span class="token operator">+</span> path<span class="token punctuation">,</span> <span class="token string">&quot;错误&quot;</span><span class="token punctuation">,</span> <span class="token class-name">JOptionPane</span><span class="token punctuation">.</span><span class="token constant">ERROR_MESSAGE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            frame<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="下拉框组件"><a href="#下拉框组件" class="header-anchor">#</a> 下拉框组件</h2> <h3 id="目标"><a href="#目标" class="header-anchor">#</a> 目标</h3> <p>封装一个可复用的下拉框组件 <code>CustomComboBox&lt;T&gt;</code>，支持以下功能：</p> <ul><li>快速初始化数据源</li> <li>设置默认选项</li> <li>获取当前选中项</li> <li>支持泛型（如：<code>String</code>、<code>Integer</code>、自定义对象）</li> <li>提供常用方法如刷新数据、设置提示文本等</li></ul> <hr> <h3 id="组件代码-customcombobox-java"><a href="#组件代码-customcombobox-java" class="header-anchor">#</a> 组件代码：<code>CustomComboBox.java</code></h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Vector</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomComboBox</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">JPanel</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">JComboBox</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> comboBox<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">DefaultComboBoxModel</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> model<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">CustomComboBox</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> items<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">(</span>items<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">CustomComboBox</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> items<span class="token punctuation">,</span> <span class="token class-name">T</span> selectedItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setLayout</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BorderLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        model <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultComboBoxModel</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Vector</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>items<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        comboBox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JComboBox</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>selectedItem <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            comboBox<span class="token punctuation">.</span><span class="token function">setSelectedItem</span><span class="token punctuation">(</span>selectedItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">add</span><span class="token punctuation">(</span>comboBox<span class="token punctuation">,</span> <span class="token class-name">BorderLayout</span><span class="token punctuation">.</span><span class="token constant">CENTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setSelectedItem</span><span class="token punctuation">(</span><span class="token class-name">T</span> item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        comboBox<span class="token punctuation">.</span><span class="token function">setSelectedItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getSelectedItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> comboBox<span class="token punctuation">.</span><span class="token function">getSelectedItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">refreshItems</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> newItems<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        model<span class="token punctuation">.</span><span class="token function">removeAllElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">T</span> item <span class="token operator">:</span> newItems<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            model<span class="token punctuation">.</span><span class="token function">addElement</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">JComboBox</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">getComboBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> comboBox<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPrompt</span><span class="token punctuation">(</span><span class="token class-name">String</span> prompt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        comboBox<span class="token punctuation">.</span><span class="token function">setRenderer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DefaultListCellRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Component</span> <span class="token function">getListCellRendererComponent</span><span class="token punctuation">(</span><span class="token class-name">JList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">,</span> <span class="token keyword">int</span> index<span class="token punctuation">,</span>
                                                          <span class="token keyword">boolean</span> isSelected<span class="token punctuation">,</span> <span class="token keyword">boolean</span> cellHasFocus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getListCellRendererComponent</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> value<span class="token punctuation">,</span> index<span class="token punctuation">,</span> isSelected<span class="token punctuation">,</span> cellHasFocus<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">setText</span><span class="token punctuation">(</span>prompt<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="示例用法"><a href="#示例用法" class="header-anchor">#</a> 示例用法</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestComboBox</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SwingUtilities</span><span class="token punctuation">.</span><span class="token function">invokeLater</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">JFrame</span> frame <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JFrame</span><span class="token punctuation">(</span><span class="token string">&quot;下拉框组件示例&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setDefaultCloseOperation</span><span class="token punctuation">(</span><span class="token class-name">JFrame</span><span class="token punctuation">.</span><span class="token constant">EXIT_ON_CLOSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">CustomComboBox</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> comboBox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CustomComboBox</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
                <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;苹果&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;香蕉&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;橘子&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;西瓜&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;香蕉&quot;</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            comboBox<span class="token punctuation">.</span><span class="token function">setPrompt</span><span class="token punctuation">(</span><span class="token string">&quot;请选择水果&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            frame<span class="token punctuation">.</span><span class="token function">getContentPane</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>comboBox<span class="token punctuation">,</span> <span class="token string">&quot;North&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">JButton</span> btn <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token string">&quot;获取选中值&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            btn<span class="token punctuation">.</span><span class="token function">addActionListener</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
                <span class="token class-name">String</span> selected <span class="token operator">=</span> comboBox<span class="token punctuation">.</span><span class="token function">getSelectedItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">JOptionPane</span><span class="token punctuation">.</span><span class="token function">showMessageDialog</span><span class="token punctuation">(</span>frame<span class="token punctuation">,</span> <span class="token string">&quot;你选择的是: &quot;</span> <span class="token operator">+</span> selected<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            frame<span class="token punctuation">.</span><span class="token function">getContentPane</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>btn<span class="token punctuation">,</span> <span class="token string">&quot;South&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            frame<span class="token punctuation">.</span><span class="token function">setLocationRelativeTo</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            frame<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="http://cdn.qiniu.liyansheng.top/img/image-20250803115309862.png" alt="image-20250803115309862"></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/18/2025, 12:45:33 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/swing/表格行高列宽调整.html" class="prev">
        表格行高列宽调整
      </a></span> <!----></p></div> </main></div><div class="global-ui"><canvas id="vuepress-canvas-cursor"></canvas><div id="goTop" class="hide-cat" data-v-bf92849a></div><!----><div></div></div></div>
    <script src="/assets/js/app.e9d65d00.js" defer></script><script src="/assets/js/2.5310dc29.js" defer></script><script src="/assets/js/1.43371dd6.js" defer></script><script src="/assets/js/342.bf59ed14.js" defer></script>
  </body>
</html>
