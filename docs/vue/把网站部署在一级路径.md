# æŠŠç½‘ç«™éƒ¨ç½²åœ¨ä¸€çº§è·¯å¾„

 **Vite + Vue 3** é¡¹ç›®ä¸­ï¼Œå¦‚æœä½ æƒ³ï¼ˆä¾‹å¦‚ `https://example.com/myapp/`ï¼‰ï¼Œä½ éœ€è¦åœ¨ä¸¤ä¸ªåœ°æ–¹è®¾ç½®ï¼š

------

## âœ… **1. åœ¨ `vite.config.js` ä¸­è®¾ç½® `base`**

Vite ä¼šæ ¹æ® `base` ç”Ÿæˆæ­£ç¡®çš„é™æ€èµ„æºè·¯å¾„ã€‚

### ğŸ‘‰ ç¤ºä¾‹ï¼šéƒ¨ç½²åˆ° `https://example.com/myapp/`

```
// vite.config.js
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [vue()],
  base: '/myapp/'   // ä½ çš„ç½‘ç«™ä¸€çº§è·¯å¾„
})
```

å¦‚æœä½ çš„é¡¹ç›®ç›´æ¥æ”¾åœ¨æ ¹ç›®å½•ï¼ˆ`https://example.com/`ï¼‰ï¼Œåˆ™ï¼š

```
base: '/'
```

------

## âœ… **2. Vue Router éœ€è¦è®¾ç½® `base`ï¼ˆå¦‚ä½¿ç”¨ history æ¨¡å¼ï¼‰**

å¦‚æœä½ ä½¿ç”¨ **Vue Router 4 + history æ¨¡å¼**ï¼š

### `router/index.js`

```
import { createRouter, createWebHistory } from 'vue-router'

const router = createRouter({
  history: createWebHistory('/myapp/'), // ä¸ Vite çš„ base ä¸€è‡´
  routes: [...]
})

export default router
```

å¦‚æœä½¿ç”¨ hash æ¨¡å¼ï¼Œåˆ™æ— éœ€è®¾ç½® baseï¼š

```
createWebHashHistory()
```

## ğŸŸ¦ Nginx ç¤ºä¾‹é…ç½®ï¼ˆé‡è¦ï¼‰

```
location /myapp/ {
  try_files $uri $uri/ /myapp/index.html;
}
```