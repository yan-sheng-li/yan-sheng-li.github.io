# æ’ä»¶å®ç°è‡ªåŠ¨éƒ¨ç½²



## ğŸ¯ ç›®æ ‡

æˆ‘ä»¬å¸Œæœ›é€šè¿‡ç®€å•çš„å‘½ä»¤ï¼š

```bash
npm run deploy
```

å°±èƒ½è‡ªåŠ¨ï¼š

- æ„å»ºé¡¹ç›®ï¼ˆç”Ÿæˆ `dist/` æ–‡ä»¶å¤¹ï¼‰
- å°† `dist/` æ¨é€åˆ° GitHub çš„ `gh-pages` åˆ†æ”¯
- è‡ªåŠ¨æ›´æ–°ä½ æ‰˜ç®¡åœ¨ GitHub Pages çš„ç«™ç‚¹å†…å®¹



## âœ… æ­¥éª¤è¯¦è§£ï¼ˆä»¥ Vue + Vite é¡¹ç›®ä¸ºä¾‹ï¼‰



### â‘  å®‰è£… `gh-pages` æ’ä»¶

åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼š

```bash
npm install --save-dev gh-pages
```

è¿™ä¸ªæ’ä»¶å°±æ˜¯ç”¨æ¥æŠŠ `dist/` ç›®å½•æ¨é€åˆ° `gh-pages` åˆ†æ”¯çš„ã€‚



### â‘¡ é…ç½® `vite.config.js`

æ·»åŠ  `base` é…ç½®é¡¹ï¼ˆå¿…é¡»ï¼å¦åˆ™ GitHub Pages è·¯å¾„ä¸å¯¹ï¼‰ï¼š

```js
// vite.config.js
import { defineConfig } from 'vite'

export default defineConfig({
  base: '/ä½ çš„ä»“åº“å/', // æ³¨æ„å‰åéƒ½æœ‰æ–œæ 
})
```

ä¾‹å¦‚ä½ çš„ä»“åº“æ˜¯ `https://github.com/lys123/vue-demo`ï¼Œé‚£ä¹ˆå°±å†™ï¼š

```js
base: '/vue-demo/'
```



### â‘¢ ä¿®æ”¹ `package.json` è„šæœ¬

```json
{
  "scripts": {
    "build": "vite build",
    "predeploy": "npm run build",    // è‡ªåŠ¨åœ¨éƒ¨ç½²å‰æ„å»º
    "deploy": "gh-pages -d dist"     // æ¨é€ dist ç›®å½•åˆ° gh-pages åˆ†æ”¯
  }
}
```

> `predeploy` æ˜¯ Node çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä¼šåœ¨ä½ è¿è¡Œ `npm run deploy` æ—¶è‡ªåŠ¨å…ˆè¿è¡Œ `npm run build`ã€‚



### â‘£ åˆå§‹åŒ– Git å¹¶æ¨é€ä¸»åˆ†æ”¯ï¼ˆå¦‚æœè¿˜æ²¡åšï¼‰

```bash
git init
git add .
git commit -m "init"
git branch -M main
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å.git
git push -u origin main
```



### â‘¤ æ‰§è¡Œéƒ¨ç½²å‘½ä»¤

```bash
npm run deploy
```

æ§åˆ¶å°ä¼šæ˜¾ç¤ºå®ƒå°† `dist/` æ¨é€åˆ°äº† `gh-pages` åˆ†æ”¯ã€‚



### â‘¥ åœ¨ GitHub ä¸Šå¯ç”¨ Pages

1. æ‰“å¼€ä½ çš„ GitHub ä»“åº“
2. è¿›å…¥ `Settings` â†’ `Pages`
3. åœ¨ `Source` ä¸­é€‰æ‹©ï¼š`gh-pages` åˆ†æ”¯ â†’ `/ (root)`
4. ä¿å­˜åï¼ŒGitHub ä¼šç”Ÿæˆè®¿é—®é“¾æ¥ï¼Œå¦‚ï¼š

```
https://ä½ çš„ç”¨æˆ·å.github.io/ä½ çš„ä»“åº“å/
```



## âœ… æ€»ç»“ä¸€å¼ å›¾ï¼ˆæµç¨‹ï¼‰

```
npm run deploy
   â†“
npm run buildï¼ˆè‡ªåŠ¨ï¼‰
   â†“
vite æ„å»ºå‡º dist/
   â†“
gh-pages æŠŠ dist/ æ¨é€åˆ° gh-pages åˆ†æ”¯
   â†“
GitHub Pages ä½¿ç”¨ gh-pages åˆ†æ”¯ä½œä¸ºç½‘ç«™æº
   â†“
ç½‘ç«™ä¸Šçº¿ ğŸ‰
```



## ğŸ” åç»­æ›´æ–°å†…å®¹æ€ä¹ˆåŠï¼Ÿ

ä½ åªéœ€è¦æ”¹å®Œä»£ç åå†æ¬¡æ‰§è¡Œï¼š

```bash
npm run deploy
```

å³å¯è‡ªåŠ¨éƒ¨ç½²æœ€æ–°ç‰ˆç½‘ç«™ã€‚
